# 📖 测试文档总览

> **阶段0测试资源导航**
> 创建日期: 2026-01-05

---

## 🎯 测试文档列表

### 1. 快速开始 ⭐⭐⭐⭐⭐
**文件**: `QUICK_START_TEST.md`
**适合**: 快速验证功能（5分钟）
**包含**:
- 30秒快速准备
- 5分钟核心测试
- 常见问题解答
- 通过率检查表

**推荐使用场景**:
- ✅ 第一次测试
- ✅ 快速验证功能
- ✅ 日常回归测试

---

### 2. 完整测试计划 ⭐⭐⭐⭐⭐
**文件**: `STAGE0_TEST_PLAN.md`
**适合**: 全面测试（75分钟）
**包含**:
- 30个详细测试用例
- 6大测试组
- 测试结果记录表
- Bug跟踪模板

**推荐使用场景**:
- ✅ 完整的功能验收
- ✅ 发布前测试
- ✅ 详细问题排查

---

### 3. 测试辅助脚本 ⭐⭐⭐⭐
**文件**: `test-helper.js`
**适合**: 自动化测试辅助
**包含**:
- 7个测试辅助函数
- LocalStorage数据分析
- 复杂度评分测试
- 快速测试套件

**推荐使用场景**:
- ✅ 查看测试数据
- ✅ 分析模型使用情况
- ✅ 导出测试报告

---

## 🚀 推荐测试流程

### 第一次测试（新手） ⭐

```
1. 阅读 QUICK_START_TEST.md (2分钟)
2. 按步骤执行快速测试 (5分钟)
3. 如有问题，查看 STAGE0_TEST_PLAN.md
4. 使用 test-helper.js 辅助分析
```

**总耗时**: 约10分钟
**目标**: 验证核心功能正常

---

### 完整验收测试（正式） ⭐⭐⭐

```
1. 阅读 STAGE0_TEST_PLAN.md (5分钟)
2. 执行30个测试用例 (75分钟)
3. 记录测试结果
4. 填写Bug跟踪表
5. 使用 test-helper.js 导出报告
```

**总耗时**: 约90分钟
**目标**: 全面功能验收

---

### 回归测试（日常） ⭐⭐

```
1. 执行 QUICK_START_TEST.md 核心测试 (5分钟)
2. 运行 test-helper.js 的 runQuickTestSuite() (1分钟)
3. 检查通过率
```

**总耗时**: 约6分钟
**目标**: 快速回归验证

---

## 📊 测试覆盖范围

| 功能模块 | 快速测试 | 完整测试 | 自动化 |
|---------|---------|---------|--------|
| 基础语音对话 | ✅ | ✅ | ❌ |
| 自动模型选择 | ✅ | ✅ | ✅ |
| 手动模式切换 | ✅ | ✅ | ❌ |
| UI交互 | ✅ | ✅ | ❌ |
| 环境因素 | ⚠️ | ✅ | ❌ |
| 数据分析 | ⚠️ | ✅ | ✅ |
| 性能测试 | ❌ | ✅ | ❌ |

✅ 完全覆盖 | ⚠️ 部分覆盖 | ❌ 未覆盖

---

## 🛠️ 使用测试辅助脚本

### 快速上手

```javascript
// 1. 打开浏览器开发者工具 (F12)
// 2. 切换到 Console 标签
// 3. 复制粘贴 test-helper.js 全部内容
// 4. 调用函数

// 示例1: 查看对话记录
checkLocalStorage()

// 示例2: 分析模型使用
analyzeModelUsage()

// 示例3: 运行测试套件
runQuickTestSuite()

// 示例4: 测试特定问题
testComplexityScore("如果项羽不乌江自刎会怎样")
```

---

## 📋 测试检查清单

### 测试前准备

- [ ] Node.js 18+ 已安装
- [ ] 依赖已安装 (`npm install`)
- [ ] StepFun API Key 已获取
- [ ] 开发服务器已启动 (`npm run dev`)
- [ ] 浏览器已打开 (http://localhost:3000)

### 核心功能测试

- [ ] API Key配置成功
- [ ] 语音对话正常
- [ ] 简单问题使用mini
- [ ] 复杂问题使用step-audio-2
- [ ] 手动切换模式正常
- [ ] 控制台日志正常

### 数据验证

- [ ] LocalStorage有数据
- [ ] 模型使用记录完整
- [ ] 响应时间记录
- [ ] 复杂度分数合理

---

## 🐛 问题反馈模板

发现问题时，请提供以下信息：

```markdown
### 问题描述
简要描述问题

### 复现步骤
1. 步骤1
2. 步骤2
3. 步骤3

### 预期结果
应该发生什么

### 实际结果
实际发生了什么

### 环境信息
- 浏览器: ___
- 操作系统: ___
- 应用版本: v0.1.0 (阶段0)

### 控制台错误
（如果有错误，请粘贴）

### LocalStorage数据
运行 checkLocalStorage() 并截图
```

---

## 🎓 学习资源

### 理解智能调度原理

1. **复杂度评分算法**
   - 文档: `AUDIO_MODEL_STRATEGY.md`
   - 代码: `web/lib/model-selector.ts`

2. **数据分析系统**
   - 代码: `web/lib/model-analytics.ts`
   - 测试: 使用 `test-helper.js`

3. **UI交互**
   - 组件: `web/components/realtime-voice/ModelSettings.tsx`
   - 集成: `web/app/realtime-voice/page.tsx`

---

## 💡 测试技巧

### 技巧1: 提高复杂度分数

```
简单: "你好" → 2分
中等: "为什么秦朝会灭亡？" → 42分
高: "如果秦始皇没有统一六国，请帮我搜索最新的研究，
从政治、经济、文化三个角度分析，并说明对后续的影响"
→ 100+分
```

### 技巧2: 使用自动化测试

```javascript
// 在控制台运行
runQuickTestSuite()

// 会自动测试5个问题，输出通过率
```

### 技巧3: 导出测试数据

```javascript
// 查看数据
checkLocalStorage()

// 导出报告
exportTestReport()

// 分析统计
analyzeModelUsage()
```

---

## 📞 获取帮助

### 遇到问题？

1. **查看文档**: 首先查看 `QUICK_START_TEST.md`
2. **查看日志**: 打开浏览器控制台 (F12)
3. **运行脚本**: 使用 `test-helper.js` 诊断
4. **查看计划**: 参考 `STAGE0_TEST_PLAN.md`

### 仍然无法解决？

- 检查: Node.js版本
- 检查: API Key是否有效
- 检查: 网络连接
- 检查: 浏览器控制台错误

---

## ✅ 测试完成标准

### 最低标准（通过）

- [x] 核心功能通过率 ≥ 60%
- [ ] 无阻塞性Bug
- [ ] 控制台无严重错误

### 推荐标准（良好）

- [x] 核心功能通过率 ≥ 80%
- [ ] UI交互通过率 ≥ 90%
- [ ] 数据记录完整

### 完美标准（优秀）

- [x] 所有测试通过率 ≥ 95%
- [ ] 性能指标优秀
- [ ] 用户体验流畅

---

## 📈 持续改进

测试不是一次性的工作，建议：

1. **每次修改后** 运行快速测试（5分钟）
2. **每周** 运行完整测试（75分钟）
3. **发布前** 运行完整测试 + 性能测试
4. **收集用户反馈** 持续优化

---

**祝测试顺利！** 🎉

如有问题，请查阅详细文档或使用测试辅助脚本。
