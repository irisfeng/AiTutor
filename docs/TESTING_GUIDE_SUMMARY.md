# 🎯 测试指南 - 快速参考

> **阶段0智能模型调度系统测试**
> 创建日期: 2026-01-05

---

## 📚 三种测试方式，任你选择！

### 方式1️⃣: 超快测试（5分钟）⭐推荐

**适合**: 快速验证功能是否正常

**步骤**:
1. 打开 `docs/QUICK_START_TEST.md`
2. 按照文档做3个测试
3. 打勾检查通过率

**测试内容**:
- ✅ 简单问题 → mini模型
- ✅ "如果"问题 → step-audio-2
- ✅ 手动切换模式

---

### 方式2️⃣: 完整测试（75分钟）

**适合**: 全面验收，发布前

**步骤**:
1. 打开 `docs/STAGE0_TEST_PLAN.md`
2. 执行30个测试用例
3. 填写测试结果表格
4. 记录发现的Bug

**测试覆盖**:
- ✅ 基础功能（5个）
- ✅ 自动模式（8个）
- ✅ 手动模式（6个）
- ✅ 环境因素（4个）
- ✅ 数据分析（3个）
- ✅ UI交互（4个）

---

### 方式3️⃣: 自动化辅助（1分钟）

**适合**: 开发者，数据分析

**步骤**:
1. 打开浏览器控制台 (F12)
2. 复制 `docs/test-helper.js` 全部内容
3. 粘贴到控制台
4. 运行: `runQuickTestSuite()`

**输出**:
```
测试 1: "你好" → ✅ 通过
测试 2: "秦始皇是谁" → ✅ 通过
测试 3: "如果项羽..." → ✅ 通过
...
测试结果: 5 通过, 0 失败
通过率: 100.0%
```

---

## 🚀 立即开始测试

### Step 1: 启动应用

```bash
cd web
npm run dev
```

访问: http://localhost:3000

### Step 2: 配置API Key

1. 点击右上角设置按钮
2. 输入StepFun API Key
3. 点击"完成"

### Step 3: 开始测试

选择上面三种方式之一，开始测试！

---

## ✅ 测试检查清单

快速自检（30秒）：

- [ ] 应用正常启动
- [ ] API Key已配置
- [ ] 可以进行语音对话
- [ ] 简单问题用mini模型
- [ ] 复杂问题用step-audio-2
- [ ] 可以手动切换模式

**全部通过？** 🎉 测试成功！

---

## 🛠️ 遇到问题？

### 问题1: 模型不切换

**检查**:
- 打开控制台 (F12)
- 查看是否有错误信息
- 查看"复杂度分数"是否≥50

**解决**:
```
尝试更复杂的问题：
"如果秦始皇没有统一六国，请帮我搜索最新研究，
从政治、经济、文化三个角度分析，并说明影响"
```

---

### 问题2: 控制台有错误

**常见错误**:

**WebSocket连接失败**
```
解决:
1. 检查 npm run dev 是否运行
2. 检查API Key是否正确
3. 刷新页面
```

**API错误**
```
解决:
1. 检查API Key余额
2. 确认API Key权限
```

---

### 问题3: UI显示异常

**解决**:
1. 刷新页面 (F5)
2. 清除缓存 (Ctrl+Shift+R)
3. 使用Chrome/Edge浏览器

---

## 📊 测试结果示例

### 成功的测试日志

```
✅ 基础功能测试
  - 应用启动 ✅
  - API配置 ✅
  - 语音对话 ✅
  - 模型显示 ✅
  - UI交互 ✅

✅ 自动模式测试
  - "你好" → mini ✅ (2分)
  - "秦始皇是谁" → mini ✅ (15分)
  - "如果项羽..." → step-audio-2 ✅ (58分)
  - 搜索请求 → step-audio-2 ✅ (72分)

✅ 手动模式测试
  - 高质量模式 ✅
  - 快速模式 ✅
  - 切换回自动 ✅

通过率: 12/12 = 100% 🎉
```

---

## 🎓 学习资源

想了解更多？

- **完整测试计划**: `docs/STAGE0_TEST_PLAN.md`
- **测试文档导航**: `docs/TEST_README.md`
- **辅助脚本**: `docs/test-helper.js`

---

## 💡 专业提示

**提示1**: 使用自动化脚本节省时间
```javascript
// 在控制台运行
runQuickTestSuite()  // 5秒完成5个测试
analyzeModelUsage()  // 分析使用数据
```

**提示2**: 导出测试报告
```javascript
exportTestReport()  // 自动下载JSON报告
```

**提示3**: 测试复杂问题的小技巧
```
问题越长 → 分数越高
包含"如果" → +30分
包含"搜索" → +30分
多轮对话 → 每轮+5分
```

---

## 📞 需要帮助？

1. **查看文档**: 所有测试文档都在 `docs/` 目录
2. **查看日志**: 控制台 (F12) 有详细日志
3. **使用脚本**: `test-helper.js` 可以诊断问题

---

## ✨ 开始测试吧！

选择最适合你的方式：

- 🚀 **赶时间？** → 快速测试（5分钟）
- 📋 **要完整？** → 完整测试（75分钟）
- 💻 **懂技术？** → 自动化脚本（1分钟）

**祝你测试顺利！** 🎉

---

**最后更新**: 2026-01-05
**版本**: v1.0
**维护**: AiTutor Team
