# 历史人设系统 - 用户测试指南

> **欢迎使用AiTutor历史助手！** 本指南将帮助你完成阶段1的内部测试。

---

## 📋 测试前准备

### 1. 确认环境

✅ 开发服务器已启动：http://localhost:3000
✅ 已准备好StepFun API Key
✅ 浏览器已允许麦克风权限
✅ 网络连接正常

### 2. 打开应用

1. 访问：http://localhost:3000/realtime-voice
2. 点击右上角的 ⚙️ 设置图标
3. 输入你的 StepFun API Key
4. 点击保存

---

## 🎯 测试任务

### 任务1: 测试说书人 (📖)

**目标**: 验证生动故事风格

**步骤**:
1. 点击人设选择器（默认显示"📖 说书人"）
2. 确认当前是"说书人"人设
3. 点击 🎤 麦克风按钮，开始录音
4. 提问：**"讲讲秦始皇统一六国"**
5. 等待AI回答并观察：

**✅ 期待结果**:
- AI使用"话说当年..."或类似开头
- 语言生动有趣，像评书一样
- 描写具体场景（如咸阳城、金銮殿）
- 传递情感（如秦王的雄心壮志）
- 控制在150字以内

**评分**: ⭐⭐⭐⭐⭐ (完美) / ⭐⭐⭐⭐ (良好) / ⭐⭐⭐ (一般) / ⭐⭐ (较差) / ⭐ (差)

**你的评分**: _______

**备注**:
```
（记录AI的实际回答和你的感受）
```

---

### 任务2: 测试历史侦探 (🔍)

**目标**: 验证推理分析风格

**步骤**:
1. 点击人设选择器
2. 选择"🔍 历史侦探"
3. 点击 🎤 麦克风按钮
4. 提问：**"项羽为什么会输给刘邦？"**
5. 观察回答风格：

**✅ 期待结果**:
- AI使用"这个案子很有意思..."或类似开头
- 从多个角度分析（性格、政治、经济、民心等）
- 使用"线索"、"分析"、"推理"等词汇
- 逻辑清晰，层层递进
- 得出明确结论

**评分**: _______

**备注**:
```
（记录AI的实际回答和你的感受）
```

---

### 任务3: 测试时间旅行者 (⏰)

**目标**: 验证第一人称沉浸式体验

**步骤**:
1. 点击人设选择器
2. 选择"⏰ 时间旅行者"
3. 点击 🎤 麦克风按钮
4. 提问：**"玄武门之变发生了什么？"**
5. 观察回答风格：

**✅ 期待结果**:
- AI使用"我现在站在..."或类似开头
- 第一人称视角（"我看到了..."、"我听到了..."）
- 多感官描述（视觉、听觉、氛围）
- 营造身临其境的感觉
- 可以表达惊讶和紧张

**评分**: _______

**备注**:
```
（记录AI的实际回答和你的感受）
```

---

### 任务4: 测试"如果"问题

**目标**: 验证反事实问题的特殊处理

**步骤**:
1. 保持"历史侦探"人设（推理型最适合）
2. 点击 🎤 麦克风按钮
3. 提问：**"如果项羽没有乌江自刎，历史会怎样？"**
4. 观察回答结构：

**✅ 期待结果**:
- AI识别这是"如果"问题
- 按以下结构回答：
  1. **可能性分析**：2-3种可能的走向
  2. **真实原因**：历史上实际发生了什么
  3. **思考启发**：学生能学到什么
- 最后回归真实历史
- 总字数200字以内

**评分**: _______

**备注**:
```
（记录AI的实际回答和你的感受）
```

---

### 任务5: 测试人设切换

**目标**: 验证对话中途切换人设的流畅性

**步骤**:
1. 使用"📖 说书人"人设
2. 点击 🎤 麦克风按钮
3. 提问：**"讲讲三国时期"**
4. 等待AI回答
5. **在对话进行中**，点击人设选择器
6. 切换到"🔍 历史侦探"
7. 再次点击 🎤 麦克风按钮
8. 提问：**"分析一下诸葛亮为什么北伐失败"**
9. 观察：

**✅ 期待结果**:
- 连接不会断开（无需重连）
- 切换流畅，立即生效
- 第二个问题的回答风格明显变成侦探风格
- 控制台显示（按F12查看）：
  - `🎭 切换人设: storyteller → detective`
  - `✅ 人设已更新，新会话已创建`

**评分**: _______

**备注**:
```
（记录切换体验和第二个问题的回答风格）
```

---

### 任务6: 测试历史细节补充

**目标**: 验证关键词检测和细节增强

**步骤**:
1. 切换到"📖 说书人"人设
2. 点击 🎤 麦克风按钮
3. 提问：**"长安城在唐朝是什么样？"**
4. 观察：

**✅ 期待结果**:
- AI检测到关键词："长安城"（地点）、"唐朝"（时期）
- 自动补充细节：
  - 描绘长安城的地理环境
  - 介绍唐朝的时代特征
  - 描述场景和氛围
  - 可能引用诗句（如"长安一片月"）
  - 对比今昔

**评分**: _______

**备注**:
```
（记录AI的实际回答和你的感受）
```

---

## 🐛 问题记录

### 发现的问题

如果在测试中发现任何问题，请记录：

**问题1**:
- **描述**: ___________________
- **严重程度**: 低 / 中 / 高
- **复现步骤**: ___________________
- **预期行为**: ___________________
- **实际行为**: ___________________

**问题2**:
- **描述**: ___________________
- **严重程度**: 低 / 中 / 高
- **复现步骤**: ___________________
- **预期行为**: ___________________
- **实际行为**: ___________________

---

## 💡 改进建议

请记录你的任何想法和建议：

1. ___________________
2. ___________________
3. ___________________

---

## 📊 总体评价

### 功能完整性

- [ ] 所有功能都能正常工作
- [ ] 人设切换流畅
- [ ] 语音识别准确
- [ ] 回答内容符合人设特点

### 用户体验

- [ ] 界面直观易用
- [ ] 人设区别明显
- [ ] 回答有趣味性
- [ ] 学习效果良好

### 稳定性

- [ ] 无崩溃或卡顿
- [ ] 连接稳定
- [ ] 错误处理得当

### 总体评分

⭐⭐⭐⭐⭐ (非常优秀)
⭐⭐⭐⭐ (良好)
⭐⭐⭐ (一般)
⭐⭐ (较差)
⭐ (差)

**你的选择**: _______

---

## 🎓 学生验收测试准备

在完成内部测试后，准备以下内容用于5名学生的验收测试：

### 测试学生选择

- [ ] 学生1：_______ 年级，历史水平（高/中/低）
- [ ] 学生2：_______ 年级，历史水平（高/中/低）
- [ ] 学生3：_______ 年级，历史水平（高/中/低）
- [ ] 学生4：_______ 年级，历史水平（高/中/低）
- [ ] 学生5：_______ 年级，历史水平（高/中/低）

### 学生测试任务

1. **自由对话**（5分钟）：随意提问历史问题
2. **人设体验**（10分钟）：体验不同人设，填写满意度问卷
3. **如果问题**（5分钟）：提问"如果"问题，观察引导效果
4. **反馈收集**：完成问卷调查和访谈

---

## 📝 测试完成检查清单

- [ ] 完成所有6个测试任务
- [ ] 为每个任务打分并记录备注
- [ ] 记录所有发现的问题
- [ ] 提供改进建议
- [ ] 填写总体评价
- [ ] 准备学生验收测试

---

## 📅 测试时间记录

- **开始时间**: _______
- **结束时间**: _______
- **总用时**: _______

---

## 📧 反馈提交

测试完成后，请将反馈发送给开发团队：

- **测试报告**: 联系Claude Code
- **问题反馈**: 创建GitHub Issue
- **改进建议**: 直接沟通或邮件

---

**感谢你的测试！** 🎉

你的反馈将帮助我们改进AiTutor历史助手，为学生提供更好的学习体验。

---

**文档版本**: v1.0
**创建日期**: 2026-01-06
**最后更新**: 2026-01-06
